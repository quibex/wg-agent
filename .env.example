# WG-Agent Server Setup Configuration
# Copy this file to .env and fill in your values before running setup-server.sh

# ============================================================
# TLS Certificate Authority (CA)
# ============================================================
# These should be the same CA used for all your wg-agent servers
# Generate CA once using: scripts/make-ca-only.sh
# Then encode: cat certs/ca.pem | base64 | tr -d '\n'
# And:         cat certs/ca-key.pem | base64 | tr -d '\n'

CA_CERT_PEM=base64_encoded_ca_certificate_here
CA_KEY_PEM=base64_encoded_ca_private_key_here

# ============================================================
# WG-Agent Service Configuration
# ============================================================

# WireGuard interface name (default: wg0)
WG_AGENT_INTERFACE=wg0

# gRPC server bind address (default: 0.0.0.0:7443)
# Format: host:port
WG_AGENT_ADDR=0.0.0.0:7443

# HTTP health check server address (default: 0.0.0.0:8080)
# Format: host:port
WG_AGENT_HTTP_ADDR=0.0.0.0:8080

# Rate limit in requests per second (default: 10)
# Recommended: 3 for 1-2 cores, 8 for 2-4 cores, 15 for 4+ cores
WG_AGENT_RATE_LIMIT=10

# ============================================================
# Server Network Configuration
# ============================================================

# Public IP address of this server
# This will be used in TLS certificate SAN and for client connections
SERVER_PUBLIC_IP=your.server.ip.address

# WireGuard VPN server port (default: 51820)
WG_SERVER_PORT=51820

# WireGuard VPN server IP range (CIDR notation)
# Example: 10.8.0.1/24 means server IP is 10.8.0.1 and clients get 10.8.0.2-254
WG_SERVER_IP=10.8.0.1/24

# ============================================================
# Optional: GitHub Access (for private repositories)
# ============================================================

# GitHub personal access token (only needed for private repos)
GITHUB_TOKEN=

# ============================================================
# Example Configuration
# ============================================================
#
# CA_CERT_PEM=LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0t...
# CA_KEY_PEM=LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVkt...
# WG_AGENT_INTERFACE=wg0
# WG_AGENT_ADDR=0.0.0.0:7443
# WG_AGENT_HTTP_ADDR=0.0.0.0:8080
# WG_AGENT_RATE_LIMIT=10
# SERVER_PUBLIC_IP=203.0.113.42
# WG_SERVER_PORT=51820
# WG_SERVER_IP=10.8.0.1/24
# GITHUB_TOKEN=ghp_1234567890abcdef
